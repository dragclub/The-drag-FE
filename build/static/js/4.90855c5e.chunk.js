(this.webpackJsonpthe_drag=this.webpackJsonpthe_drag||[]).push([[4,7],{215:function(e,t,c){"use strict";c(2),c(219);var s=c(56),a=c(16),l=c.n(a),n=c(1);l.a.config();t.a=e=>{let{email:t,name:c,close:a}=e;return Object(n.jsxs)("div",{className:"contact-container",children:[Object(n.jsxs)("div",{className:"email",children:[Object(n.jsx)("p",{children:"To:"}),Object(n.jsx)("p",{className:"email-main",children:`${c} <${t}>`})]}),Object(n.jsxs)("form",{className:"contact-form",action:"https://thedrag.in/apis/v1/apis/contact",method:"post",encType:"multipart/form-data",onSubmit:e=>{(async e=>{document.getElementById("email-btn").setAttribute("disabled","true"),e.preventDefault();const c={subject:document.getElementById("subject").value,body:document.getElementById("body").value,attachment:document.getElementById("attachment").files[0],creatormail:t},s=new FormData;for(let t in c)s.append(t,c[t]);await fetch(e.target.action,{method:"post",body:s,credentials:"include"}).then((e=>e.json())).then((e=>{e.success?(alert(e.message),window.location.reload()):(alert(e.error||e.message),window.location.reload())}))})(e)},children:[Object(n.jsxs)("div",{className:"subject",children:[Object(n.jsx)("label",{htmlFor:"subject",children:"Subject:"}),Object(n.jsx)("input",{type:"text",id:"subject",name:"subject"})]}),Object(n.jsxs)("div",{className:"body",children:[Object(n.jsx)("label",{htmlFor:"body",children:"Message:"}),Object(n.jsx)("textarea",{name:"",id:"body"})]}),Object(n.jsxs)("div",{className:"attachment",children:[Object(n.jsx)("p",{children:"Attachment:"}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("label",{htmlFor:"attachment",children:["Drag Your Files Here ",Object(n.jsx)("p",{style:{textAlign:"center"},children:"Or"})]}),Object(n.jsx)("input",{type:"file",name:"attachment",id:"attachment"})]})]}),Object(n.jsx)("button",{type:"submit",id:"email-btn",children:"SEND"})]}),Object(n.jsx)("img",{src:s.a,alt:"",width:40,height:40,onClick:a,style:{cursor:"pointer"}})]})}},216:function(e,t,c){"use strict";c.d(t,"c",(function(){return s})),c.d(t,"a",(function(){return a})),c.d(t,"b",(function(){return l}));const s=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;try{const c=await fetch(`https://thedrag.in/apis/v1/apis?page=${e}&limit=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!c.ok)throw new Error(`Error: ${c.status}`);return await c.json()}catch(c){return console.error("Error fetching user data:",c),null}},a=async e=>{let{page:t=1,limit:c=1,dealType:s=null,companyName:a=null}=e;try{const e=new URLSearchParams({page:(t||1).toString(),limit:(c||10).toString(),...null!==s&&{dealType:s.toString()},...null!==a&&{companyName:a.toString()}}).toString(),l=await fetch(`https://thedrag.in/apis/v1/apis/deals?${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error(`Error: ${l.status}`);return await l.json()}catch(l){return console.error("Error fetching deals data:",l),null}},l=async e=>{let{searchTerm:t,page:c=1,limit:s=9,filterdata:a={type:"",count:"",sort:"desc",location:"",platform:""}}=e;try{a||(a={type:"",count:"",sort:"desc",location:"",platform:""});const e=await fetch(`https://thedrag.in/apis/v1/apis/searchandfilter?page=${c}&limit=${s}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({search:t,type:a.type||"",location:a.location||"",platform:a.platform||"",count:a.count||"",sort:a.sort||"desc"})});if(!e.ok)throw new Error(`Error: ${e.status}`);return await e.json()}catch(l){return console.error("Error fetching search and filter data:",l),null}}},217:function(e,t,c){"use strict";c.r(t);var s=c(2),a=(c(218),c(22)),l=c(16),n=c.n(l),i=c(57),r=c(31),d=c(1);n.a.config();t.default=e=>{let{close:t}=e;const[c,l]=Object(s.useState)(!0),[n,o]=Object(s.useState)(!1),[j,h]=Object(s.useState)(""),[b,m]=Object(s.useState)(!1),[p,u]=Object(s.useState)(!1),[O,x]=Object(s.useState)(!1),[y,g]=Object(s.useState)(!1);return Object(d.jsxs)("div",{className:"CreateDeal-container",children:[Object(d.jsx)("h3",{children:"Enter Details"}),Object(d.jsxs)("form",{action:"https://thedrag.in/apis/v1/apis/deals",encType:"multipart/form-data",method:"post",onSubmit:e=>{(async e=>{if(e.preventDefault(),c){document.getElementById("CreateDeal-btn").setAttribute("disabled","true");const t=new FormData,c=[];document.getElementById("type1").checked&&c.push("Barter"),document.getElementById("type2").checked&&c.push("Paid"),document.getElementById("type3").checked&&c.push("Commission"),document.getElementById("type4").checked&&c.push("Job"),t.append("name",document.getElementById("username").value),t.append("description",document.getElementById("description").value),t.append("creatorType",document.getElementById("creatorType").value||"Any Creator can Apply"),t.append("followers",document.getElementById("followers").value),t.append("dealType",c),t.append("mobile",document.getElementById("mobile").value),t.append("socialMedia",document.getElementById("socialMedia").value),fetch(e.target.action,{method:e.target.method,body:new URLSearchParams(t),credentials:"include"}).then((e=>e.json())).then((e=>{e.success?(alert(e.message),window.location.reload()):(alert(e.message),document.getElementById("CreateDeal-btn").removeAttribute("disabled"))}))}else alert("Mobile Number is Invalid")})(e)},children:[Object(d.jsxs)("div",{className:"username1",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Company Name"}),Object(d.jsx)("input",{type:"text",name:"name",id:"username"})]}),Object(d.jsxs)("div",{className:"description",children:[Object(d.jsx)("label",{htmlFor:"description",children:"Description of the Deal"}),Object(d.jsx)("textarea",{id:"description",name:"description"})]}),Object(d.jsxs)("div",{className:"creatorType",children:[Object(d.jsx)("label",{htmlFor:"creatorType",children:"What type of Creator/Influencer do you need?"}),Object(d.jsxs)("div",{className:"creatorType-input",children:[Object(d.jsx)("input",{type:"text",name:"creatorType",id:"creatorType",onMouseLeave:e=>o(!1),onMouseEnter:e=>o(!0),value:j,placeholder:"Select from the Options"}),n&&Object(d.jsx)(i.a,{func:e=>o(e),entries:a.a,setinput:(e,t)=>{if(t)0===j.length?h(e):h(j+","+e);else if(j.length>0){let t=j,c=j.indexOf(e);t=c>0?t.slice(0,c-1)+t.slice(c+e.length):t.slice(c+e.length+1),h(t)}},category:"creatorTypes",close:t,Input:j})]})]}),Object(d.jsxs)("div",{className:"followers",children:[Object(d.jsx)("label",{htmlFor:"folowers",children:"Minimum Number of Followers that you want"}),Object(d.jsx)("input",{type:"number",id:"followers",min:0,name:"followers",placeholder:"Enter Number "})]}),Object(d.jsxs)("div",{className:"dealType",children:[Object(d.jsx)("label",{htmlFor:"dealType",children:"What type of deal do you want to do?"}),Object(d.jsxs)("div",{className:"dealType-options",children:[Object(d.jsxs)("div",{onClick:e=>m(!b),children:[Object(d.jsx)("input",{type:"radio",id:"type1",checked:b})," ",Object(d.jsx)("p",{children:"Barter"})]}),Object(d.jsxs)("div",{onClick:e=>u(!p),children:[Object(d.jsx)("input",{type:"radio",id:"type2",checked:p}),Object(d.jsx)("p",{children:"Paid"})]}),Object(d.jsxs)("div",{onClick:e=>x(!O),children:[Object(d.jsx)("input",{type:"radio",id:"type3",checked:O}),Object(d.jsx)("p",{children:"Commission"})]}),Object(d.jsxs)("div",{onClick:e=>g(!y),children:[Object(d.jsx)("input",{type:"radio",id:"type4",checked:y}),Object(d.jsx)("p",{children:"Job"})]})]})]}),Object(d.jsxs)("div",{className:"contact",children:[Object(d.jsxs)("div",{className:"mobile",children:[Object(d.jsx)("label",{htmlFor:"mobile",children:"Mobile Number"}),Object(d.jsx)("input",{type:"tel",inputMode:"tel",name:"mobile",id:"mobile",maxLength:10,onChange:e=>(e=>{const t=e.target.value;10===t.length?/^[1-9][0-9]*$/.test(t)?l(!0):l(!1):t.length>0?l(!1):l(!0)})(e),placeholder:"Enter your Mobile number"})]}),Object(d.jsxs)("div",{className:"socialMedia",children:[Object(d.jsx)("label",{htmlFor:"socialMedia",children:"Social Media URL"}),Object(d.jsx)("input",{type:"url",name:"socialMedia",id:"socialMedia",placeholder:"Enter Social Media Link"})]})]}),Object(d.jsx)("button",{type:"submit",id:"CreateDeal-btn",children:"Submit"})]}),Object(d.jsx)(r.a,{className:"close",onClick:()=>t()})]})}},218:function(e,t,c){},219:function(e,t,c){},223:function(e,t,c){},224:function(e,t,c){},225:function(e,t,c){},226:function(e,t,c){},232:function(e,t,c){"use strict";c.r(t);var s=c(2),a=(c(223),c(217)),l=c(10),n=c(220),i=c(216),r=(c(224),c(215)),d=(c(225),c(1));var o=e=>{let{props:t}=e;const{companyName:c,socialMedia:s,dealDescription:a,creatorType:n,dealType:i,followers:o,email:j,iscreator:h}=t;return Object(d.jsxs)("div",{className:"deal_detail-container",children:[Object(d.jsxs)("table",{children:[Object(d.jsxs)("tbody",{children:[Object(d.jsx)("td",{className:"head",children:Object(d.jsx)("h3",{children:"Company Name"})}),Object(d.jsx)("td",{className:"des",children:Object(d.jsx)("a",{href:s,target:"_blank",children:Object(d.jsxs)("p",{children:[" ",c," ",Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"24px",children:Object(d.jsx)("path",{d:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"})})]})})})]}),Object(d.jsxs)("tbody",{children:[Object(d.jsx)("td",{className:"head",children:Object(d.jsx)("h3",{children:"Deal Description"})}),Object(d.jsx)("td",{className:"des",children:Object(d.jsxs)("p",{id:"dealdescription",children:[" ",a]})})]}),Object(d.jsxs)("tbody",{children:[Object(d.jsx)("td",{className:"head",children:Object(d.jsx)("h3",{children:"Creator Type"})}),Object(d.jsx)("td",{className:"des",children:Object(d.jsxs)("p",{children:[" ",n]})})]}),Object(d.jsxs)("tbody",{children:[Object(d.jsx)("td",{className:"head",children:Object(d.jsx)("h3",{children:"Minimum Followers"})}),Object(d.jsx)("td",{className:"des",children:Object(d.jsxs)("p",{children:[" ",o]})})]}),Object(d.jsxs)("tbody",{children:[Object(d.jsx)("td",{className:"head",children:Object(d.jsx)("h3",{children:"Deal Type"})}),Object(d.jsx)("td",{className:"des",children:Object(d.jsxs)("p",{children:[" ",i]})})]})]}),Object(d.jsx)("div",{className:"controls",children:"true"===h?Object(d.jsx)(l.default,{trigger:Object(d.jsx)("button",{className:"apply-button",children:"Apply"}),modal:!0,children:e=>Object(d.jsx)(r.a,{close:e,email:j,name:c})}):Object(d.jsx)(d.Fragment,{})})]})};var j=e=>{let{prop:t}=e;const{followers:c,creatorType:s,dealDescription:a}=t,n=sessionStorage.getItem("creator")||"false",i=Math.floor(c/1e3),j=a.length>60?a.slice(0,60)+"...":a,h=s.length>30?s.slice(0,30)+"...":s;return Object(d.jsxs)("div",{className:"deal-card",children:[Object(d.jsx)("h2",{children:t.companyName}),Object(d.jsx)("p",{children:j}),Object(d.jsxs)("div",{className:"deal-info",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[" ",Object(d.jsx)("strong",{children:"Creator Type:"})]}),Object(d.jsx)("p",{children:h})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[" ",Object(d.jsx)("strong",{children:"Minimum Req.:"})]}),Object(d.jsxs)("p",{children:[i?`${i}K`:c," Followers"]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[" ",Object(d.jsx)("strong",{children:"Deal:"})]}),Object(d.jsx)("p",{children:t.dealType})]})]}),Object(d.jsxs)("div",{className:"deal-actions",children:[t.email===sessionStorage.getItem("email")?Object(d.jsx)("button",{className:"apply-button",id:"delete",onClick:e=>{(async()=>{await fetch("https://thedrag.in/apis/v1/apis/deals",{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({email:t.email,id:t._id}),credentials:"include"}).then((e=>e.json())).then((e=>{alert(e.message),window.location.reload()}))})()},children:"Delete"}):"true"===n?Object(d.jsx)(l.default,{trigger:Object(d.jsx)("button",{className:"apply-button",children:"Apply"}),modal:!0,children:e=>Object(d.jsx)(r.a,{close:e,email:t.email,name:t.companyName})}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)(l.default,{trigger:Object(d.jsx)("button",{className:"details-button",children:"Details"}),modal:!0,children:e=>Object(d.jsx)(o,{props:{...t,followers:i?`${i}K`:c,iscreator:n}})})]})]})};c(226);var h=e=>{let{options:t,onSelect:c}=e;const[a,l]=Object(s.useState)(!1),[n,i]=Object(s.useState)("");return Object(d.jsxs)("div",{className:"custom-dropdown",children:[Object(d.jsx)("div",{className:"dropdown-header",onClick:()=>l(!a),children:n||"Select DealType"}),a&&Object(d.jsx)("div",{className:"dropdown-list",children:t.map(((e,t)=>Object(d.jsx)("div",{className:"dropdown-option",onClick:()=>(e=>{i(e),c(e),l(!1)})(e),children:e},t)))})]})};t.default=()=>{const[e,t]=Object(s.useState)(null),[c,r]=Object(s.useState)(""),[o,b]=Object(s.useState)(1),[m,p]=Object(s.useState)(1),[u,O]=Object(s.useState)(!1),[x,y]=Object(s.useState)(!1),[g,v]=Object(s.useState)(""),f=e=>{v(e),b(1),N(1,e,c)},N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;O(!0);try{const c=await Object(i.a)({page:e,dealType:s,companyName:a});c&&(t(c.data),p(c.totalPages))}catch(l){console.error("Error fetching user data:",l)}finally{O(!1)}};return Object(s.useEffect)((()=>{N(o)}),[o]),Object(d.jsxs)("div",{className:"promotions-container "+(x?"blur-background":""),children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("div",{className:"h-deal",children:[Object(d.jsx)("h2",{children:"Deals"}),Object(d.jsx)(l.default,{contentStyle:{marginBottom:"5vh"},trigger:Object(d.jsx)("div",{className:"deal",children:Object(d.jsx)("p",{children:"Post a Deal"})}),modal:!0,closeOnDocumentClick:!1,onOpen:()=>y(!0),onClose:()=>y(!1),children:e=>Object(d.jsx)(a.default,{close:e})})]}),Object(d.jsxs)("div",{className:"searchfilter",children:[Object(d.jsx)("div",{className:"search",children:Object(d.jsx)("form",{onSubmit:e=>e.preventDefault(),children:Object(d.jsxs)("label",{htmlFor:"search",className:"field",children:[Object(d.jsx)(n.a,{className:"search-icon"}),Object(d.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search Deals",value:c,onChange:e=>{const t=e.target.value;r(t),b(1),N(1,g,t)}})]})})}),Object(d.jsxs)("div",{className:"all-filter",children:[Object(d.jsx)("div",{className:"all",onClick:()=>{f(""),b(1),v(null),r("")},children:Object(d.jsx)("p",{children:"ALL"})}),Object(d.jsx)(l.default,{trigger:Object(d.jsx)("div",{className:"filter",children:Object(d.jsx)("p",{children:"Filter"})}),children:e=>Object(d.jsx)("div",{className:"filter-options",children:Object(d.jsx)(h,{options:["Commission","Barter","Paid","Job"],onSelect:t=>{f(t),e()}})})}),Object(d.jsx)(l.default,{contentStyle:{marginBottom:"5vh"},trigger:Object(d.jsx)("div",{className:"deal-h",children:Object(d.jsx)("p",{children:"Post Deal"})}),modal:!0,closeOnDocumentClick:!1,onOpen:()=>y(!0),onClose:()=>y(!1),children:e=>Object(d.jsx)(a.default,{close:e})})]})]})]}),Object(d.jsxs)("div",{className:"creators",children:[u?Object(d.jsx)("div",{className:"loading",children:Object(d.jsx)("div",{className:"loader"})}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"creator-list",children:e&&e.length>0?e.map(((e,t)=>Object(d.jsx)(j,{prop:e},t))):Object(d.jsx)("p",{style:{color:"white",fontSize:"24px",textAlign:"center"},children:"No Deal Found"})})}),Object(d.jsxs)("div",{className:"pagination",children:[Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)("button",{disabled:1===o,onClick:()=>{o>1&&b(o-1)},className:"pagination-button",children:"Previous"}),Object(d.jsx)("button",{disabled:o===m,onClick:()=>{o<m&&b(o+1)},className:"pagination-button",children:"Next"})]}),Object(d.jsx)("div",{className:"total",children:`Page ${o} of ${m}`})]})]})]})}}}]);
//# sourceMappingURL=4.90855c5e.chunk.js.map